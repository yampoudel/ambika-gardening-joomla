/*
Slimbox v2.05 - The ultimate lightweight Lightbox clone for jQuery
(c) 2007-2013 Christophe Beyls <http://www.digitalia.be>
MIT-style license.
*/
'use strict';(function(a){function C(){var b=g.scrollLeft(),c=g.width();a([d,p]).css("left",b+c/2);D&&a(m).css({left:b,top:g.scrollTop(),width:c,height:g.height()})}function E(b){b?a("object").add(F?"select":"embed").each(function(a,b){x[a]=[b,b.style.visibility];b.style.visibility="hidden"}):(a.each(x,function(a,b){b[0].style.visibility=b[1]}),x=[]);b=b?"bind":"unbind";g[b]("scroll resize",C);a(document)[b]("keydown",N)}function N(b){b=b.which;var d=a.inArray;return 0<=d(b,c.closeKeys)?y():0<=d(b,
c.nextKeys)?G():0<=d(b,c.previousKeys)?H():null}function H(){return z(q)}function G(){return z(r)}function z(a){0<=a&&(f=a,t=h[f][0],q=(f||(c.loop?h.length:0))-1,r=(f+1)%h.length||(c.loop?0:-1),I(),d.className="lbLoading",k=new Image,k.onload=O,k.src=t);return!1}function O(){d.className="";a(n).css({backgroundImage:"url("+t+")",visibility:"hidden",display:""});a(A).width(k.width);a([A,u,v]).height(k.height);a(J).html(h[f][1]||"");a(K).html((1<h.length&&c.counterText||"").replace(/{x}/,f+1).replace(/{y}/,
h.length));0<=q&&(L.src=h[q][0]);0<=r&&(M.src=h[r][0]);e=n.offsetWidth;l=n.offsetHeight;var b=Math.max(0,B-l/2);d.offsetHeight!=l&&a(d).animate({height:l,top:b},c.resizeDuration,c.resizeEasing);d.offsetWidth!=e&&a(d).animate({width:e,marginLeft:-e/2},c.resizeDuration,c.resizeEasing);a(d).queue(function(){a(p).css({width:e,top:b+l,marginLeft:-e/2,visibility:"hidden",display:""});a(n).css({display:"none",visibility:"",opacity:""}).fadeIn(c.imageFadeDuration,P)})}function P(){0<=q&&a(u).show();0<=r&&
a(v).show();a(w).css("marginTop",-w.offsetHeight).animate({marginTop:0},c.captionAnimationDuration);p.style.visibility=""}function I(){k.onload=null;k.src=L.src=M.src=t;a([d,n,w]).stop(!0);a([u,v,n,p]).hide()}function y(){0<=f&&(I(),f=q=r=-1,a(d).hide(),a(m).stop().fadeOut(c.overlayFadeDuration,E));return!1}var g=a(window),c,h,f=-1,t,q,r,D,B,e,l,F=!window.XMLHttpRequest,x=[],k={},L=new Image,M=new Image,m,d,n,A,u,v,p,w,J,K;a(function(){a("body").append(a([m=a('<div id="lbOverlay" />').click(y)[0],
d=a('<div id="lbCenter" />')[0],p=a('<div id="lbBottomContainer" />')[0]]).css("display","none"));n=a('<div id="lbImage" />').appendTo(d).append(A=a('<div style="position: relative;" />').append([u=a('<a id="lbPrevLink" href="#" />').click(H)[0],v=a('<a id="lbNextLink" href="#" />').click(G)[0]])[0])[0];w=a('<div id="lbBottom" />').appendTo(p).append([a('<a id="lbCloseLink" href="#" />').click(y)[0],J=a('<div id="lbCaption" />')[0],K=a('<div id="lbNumber" />')[0],a('<div style="clear: both;" />')[0]])[0]});
a.slimbox=function(b,f,k){c=a.extend({loop:!1,overlayOpacity:.8,overlayFadeDuration:400,resizeDuration:400,resizeEasing:"swing",initialWidth:250,initialHeight:250,imageFadeDuration:400,captionAnimationDuration:400,counterText:"{x}/{y}",closeKeys:[27,88,67],previousKeys:[37,80],nextKeys:[39,78]},k);"string"==typeof b&&(b=[[b,f]],f=0);B=g.scrollTop()+g.height()/2;e=c.initialWidth;l=c.initialHeight;a(d).css({top:Math.max(0,B-l/2),width:e,height:l,marginLeft:-e/2}).show();if(D=F||m.currentStyle&&"fixed"!=
m.currentStyle.position)m.style.position="absolute";a(m).css("opacity",c.overlayOpacity).fadeIn(c.overlayFadeDuration);C();E(1);h=b;c.loop=c.loop&&1<h.length;return z(f)};a.fn.slimbox=function(b,c,d){c=c||function(a){return[a.href,a.title]};d=d||function(){return!0};var f=this;return f.unbind("click").click(function(){var h=this,k=0,e=0,l;var g=a.grep(f,function(a,b){return d.call(h,a,b)});for(l=g.length;e<l;++e)g[e]==h&&(k=e),g[e]=c(g[e],e);return a.slimbox(g,k,b)})}})(jQuery);
